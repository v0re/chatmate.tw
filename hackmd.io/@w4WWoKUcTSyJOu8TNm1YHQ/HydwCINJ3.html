<!DOCTYPE html>
<html lang="zh-TW" data-themeable="true">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="csrf-token" content="r6bo6Npt-pnzGfBCExfuOCM62kqRBuF2wZDs">
    
    
    <meta name="description" content="測試連線位置: wss://webrtc-voxy.cfd888.info:8186">
    
    <title>voxy socket &amp; rtc - HackMD</title>
    <link rel="icon" type="image/png" href="https://hackmd.io/favicon.png">
	<link rel="apple-touch-icon" href="https://hackmd.io/apple-touch-icon.png">
	<!--  meta value for server side given sign in boolean -->
    <meta name="signin" content="false">

    
<script nonce="25ba8fcb-0a83-438b-a899-95ce0f7fb373">
  window.domain = 'hackmd.io'
  window.urlpath = ''
  window.debug = false || window.localStorage.getItem('HMD_DEBUG_FLAG') === 'true'
  window.version = '1.3.0'
  window.brand = 'HackMD'

  
  window.NOTE_ID = 'YEVU1RqHSAqvyHQh_39wBw'
  

  window.GOOGLE_DRIVE_API_KEY = 'AIzaSyAHmcP5gL_64ZafuAYOvJruFAIaYgHQaY4'
  window.GOOGLE_DRIVE_CLIENT_ID = '65857506266-76uhhee8se8dgs1i0q8fhtj1prg0ar27.apps.googleusercontent.com'
  window.DROPBOX_APP_KEY = 'rdoizrlnkuha23r'
  
  window.PLANTUML_SERVER = 'https://ptuml.hackmd.io'

  window.ASSET_URL = 'https://assets.hackmd.io'

  window.USER_CAN_CREATE_TEAM = true
  window.USER_CAN_DELETE_ACCOUNT = true
  window.USER_DELETE_ACCOUNT_VIA_EMAIL = true
  window.PAYMENT_ENABLED = true
  window.PAYMENT_PROMOTION_BANNER_ENABLED = false
  window.GITHUB_SYNC_ENABLED = true
  window.GITLAB_SYNC_ENABLED = false
  window.GITLAB_SYNC_BASE_URL = ''
  window.VCS_SYNC_MODE = 'github'
  window.VCS_PROVIDER_NAME = 'GitHub'
  window.FREE_TEAM_NUM = 20
  window.FREE_TEAM_MEMBER_NUM = 3
  window.FREE_PUBLIC_TEAM_NUM = 10
  window.NEO_OVERVIEW_UI = true
  window.NEO_PROFILE_UI = true

  
      window.FOLDER_ENABLE = true
  

  
  window.EE_SITE_ENABLE = false
  window.EE_SITE_NAME = 'false'
  window.EE_SITE_LINK = 'false'
  window.EESITE_INFO = false
  window.ENTERPRISE_DISCOVERY_ENABLE = false
  window.ENTERPRISE_DISCOVERY_TEAM = true
  window.ENTERPRISE_DISCOVERY_NOTE = true
  window.ENTERPRISE_DISCOVERY_VIEW_PERMISSION = 'guest'
  
  window.ALLOW_ANONYMOUS = true
  window.ALLOW_ANONYMOUS_EDIT = false
  window.ALLOW_DOWNLOAD_PDF = true
  window.PUBLIC_OVERVIEW = false
  window.INTERNAL_PUBLIC_OVERVIEW = false
  window.FULL_TEXT_SEARCH_ENABLE = false
  window.ALGOLIA_SEARCH_ENABLE = true
  window.MARKETING_EMAIL_ENABLE = true
  window.EMAIL_INVITATION_ENABLE = true
  window.OFFLINE_ACCESS = true
  
  
  
    window.WALLET_CONNECT_PROJECT_ID = '91d6fa182b725b5895a17a170a5878c1'
  
  window.API_MANAGEMENT_UI_ENABLE = true
  window.FEEDBACK_UI_ENABLE = true
  window.PUBLISH_ENABLE = true

  

  
  window.SHOW_HOT_NOTES = false
  

  
  window.HOT_NOTES_TIME_TYPE = 'week'
  

  
  window.SHOW_OVERVIEW = false
  

  
  window.MENTIONS = {}
  

  
  window.MENTION_ANCHORS = []
  

  
  window.COMMENT_ANCHORS = []
  

  
  window.IS_OWNER = false
  

  
  window.IS_TEAM_ADMIN = false
  

  
  window.IS_TEAM_MEMBER = false
  

  
  window.IS_INVITEE_ADMIN = false
  

  
  window.USER_PROFILE = '%7B%22name%22%3A%22Guest%20Schultz%22%7D'
  

  
  window.VERSION_TIME = '1678172668263'
  

  
  window.canEdit = false
  

  
  window.canWriteComment = false
  

  
  window.canHideComment = false
  

  window.TRASH_NOTE_DELETE_AFTER_FREE = 3
  window.TRASH_NOTE_DELETE_AFTER_PAID = 30

  
    window.ENABLED_PREVIEW_FEATURE = {}
  

  
    window.ACTIVE_PREVIEW_FEATURE = ["beta-slide-preview","beta-note-insights"]
  

  
    window.IS_OWNER_UPGRADED = false
  

  
    window.IMGUR_FALLBACK_CDN = 'https://imgur-backup.hackmd.io'
  

  
    window.CLOUD_META_UI = true
  
  
    window.CLOUD_META_API = true
  
  
    window.CLOUD_META_MIGRATION = false
  
  
    window.YAML_METADATA_ENABLED = false
  

  
    window.NOTE_CAPACITY_LIMIT = 50
  

  
    window.DOCUMENT_MAX_LENGTH = 100000
  

  
    window.SOCIAL_NETWORK_FEATURES_ENABLED = true
  

  
    window.PUBLISHMENT_MODERATION_ENABLED = true
  

  
    window.COMMENT_ENABLED = true
  

  
    window.COMMENT_PERMISSION = "signed_in_users"
  

  window.SUGGEST_EDIT_ENABLED = true
  
    window.SUGGEST_EDIT_ENABLED = true
  

  
    window.SUGGEST_EDIT_PERMISSION = "signed_in_users"
  
  
    window.canWriteSuggestEdit = false
  

  window.CITATION_ENABLED = true

  window.NOTE_FROM_COMMENT_ENABLED = true

  
    window.NOTE_FEATURES = {"emoji-reply":"signed_in_users","citation":"disabled"}
  

  
    window.REALTIME_CLIENT_WITH_CREDENTIALS = false
  

  
    window.DEBUG_DISCONNECT_SOCKET_WHEN_OFFLINE = false
  

  

  
    window.PREFERRED_UI_THEME = "dark"
  

  

  
    window.CUSTOM_STYLE_ENABLED = "true"
  

  
    window.USE_NEW_LOGO = true
  

  
    window.ITERABLE_ENABLED = true
  
  
    window.ITERABLE_API_KEY = "c2c36a44c2614fb19aa3b46d660bbce2"
  

  
    window.TEXT_SELECTION_CHANGED = false
  

  
    window.CAN_VIEW_HISTORY_AT_REVISION = false
  

  
    window.GUIDED_COMMENT_ENABLED = true
  

  
    window.ENCODED_SESSION_ID = "nCRdeH0BUIle/24xnbmikP0b+TiepcVS86pPvXnX7R4="
  

  
    window.FOLDER_TRANSPORTATION = {"version":"v2","strategy":"canary-by-workspace-id","canaryThreshold":"F"}
  
</script>


    
<!-- Google Tag Manager -->
<script nonce="25ba8fcb-0a83-438b-a899-95ce0f7fb373">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KLW9Z3');</script>
<!-- End Google Tag Manager -->


    






    <meta property="fb:app_id" content="1436904003272070">



    <meta name="robots" content="index, follow">



    <meta name="twitter:image:src" content="https://hackmd.io/images/media/HackMD-neo-og.jpg">
    <meta name="twitter:image:alt" content="voxy socket &amp; rtc - HackMD">


<meta name="twitter:site" content="@hackmdio" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="voxy socket &amp; rtc - HackMD" />


    <meta name="twitter:description" content="測試連線位置: wss://webrtc-voxy.cfd888.info:8186" />



    <meta property="og:image" content="https://hackmd.io/images/media/HackMD-neo-og.jpg">
    <meta property="og:image:alt" content="voxy socket &amp; rtc - HackMD">


<meta property="og:site_name" content="HackMD" />
<meta property="og:type" content="article" />
<meta property="og:title" content="voxy socket &amp; rtc - HackMD" />


    <meta property="og:description" content="測試連線位置: wss://webrtc-voxy.cfd888.info:8186" />



    <link rel="canonical" href="https://hackmd.io/@w4WWoKUcTSyJOu8TNm1YHQ/HydwCINJ3" />
    <meta property="og:url" content="https://hackmd.io/@w4WWoKUcTSyJOu8TNm1YHQ/HydwCINJ3" />
    <meta property="twitter:url" content="https://hackmd.io/@w4WWoKUcTSyJOu8TNm1YHQ/HydwCINJ3" />

    <link rel="alternate" type="text/markdown" href="https://hackmd.io/@w4WWoKUcTSyJOu8TNm1YHQ/HydwCINJ3.md" title="Pure markdown version">
    <link rel="alternate" type="text/markdown" href="https://hackmd.io/@w4WWoKUcTSyJOu8TNm1YHQ/HydwCINJ3.md?no-meta" title="Pure markdown version without metadata">


     <link href="https://assets.hackmd.io/build/font-vendor.ea8218d7d4f468b2c430.css" rel="stylesheet"><link href="https://assets.hackmd.io/build/common-vendor.fd34b1d1ad1390fa8864.css" rel="stylesheet"><link href="https://assets.hackmd.io/build/pretty-vendor.d39c3586ad724c4bdff1.css" rel="stylesheet"><link href="https://assets.hackmd.io/build/pretty.2b79142c2f16ef791d45.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
<![endif]-->

    


    <script nonce="25ba8fcb-0a83-438b-a899-95ce0f7fb373">
  window.__shouldIgnoreTracker = function() {
    const isDebug = window.debug === true
    const isLocal = /^localhost$|^127(\.[0-9]+){0,2}\.[0-9]+$|^\[::1?\]$|^local\.localhost$/.test(location.hostname) || location.protocol === 'file:'
    const isAutomation = Boolean(window._phantom || window.__nightmare || window.navigator.webdriver || window.Cypress)
    return isDebug || isLocal || isAutomation
  }
</script>

<!-- plausible -->
<script defer data-domain="hackmd.io" src="https://tracks.hackmd.io/js/script.js"></script>
<script nonce="25ba8fcb-0a83-438b-a899-95ce0f7fb373">
  window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments); }
  const keyboardWhiteList = ['a', 'span', 'button']

  function getTaggedEventAttributes (e) {
    const eventAttrs = { name: null, props: {} }
    if (!e || !e.classList) return eventAttrs
    const psEvent = /plausible-event-(.+)(=|--)(.+)/
    for (const className of [...e.classList]) {
      const [, key, , val] = className.match(psEvent) || []
      if (!key || !val) continue
      const value = val.replace(/\+/g, ' ')
      switch (key.toLowerCase()) {
        case 'name':
          eventAttrs.name = value
          break
        default:
          eventAttrs.props[key] = value
          break
      }
    }
    return eventAttrs
  }

  function shouldIgnore () {
    return window.__shouldIgnoreTracker() || window.localStorage.getItem('plausible_ignore') === 'true'
  }

  function handler (e) {
    if (!window.plausible) return
    if (!e.target || !('className' in e.target)) return
    const ele = e.target

    const eventAttrs = getTaggedEventAttributes(ele)
    if (!eventAttrs.name) return
    if (ele?.href) eventAttrs.props.url = ele.href

    if (shouldIgnore()) {
      if (window.debug) logDebugEventMsg(eventAttrs)
      return
    }
    window.plausible(eventAttrs.name, { props: eventAttrs.props })
  }

  function logDebugEventMsg (eventAttrs) {
    console.warn(
      `Ignoring Event: "${eventAttrs.name}"`,
      eventAttrs,
    )
  }

  function keydownHandler (e) {
    if (e.key !== 'Enter') return
    if (e.target.nodeName.toLowerCase() === 'input') {
      switch (e.target.type.toLowerCase()) {
        case 'submit':
        case 'button':
        case 'reset':
        case 'checkbox':
        case 'radio':
        case 'file':
        case 'image':
        case 'color':
          break
        default:
          return
      }
    } else if (!keyboardWhiteList.includes(e.target.nodeName.toLowerCase())) {
      return
    }
    handler(e)
  }

  document.addEventListener('mousedown', handler)
  document.addEventListener('keydown', keydownHandler)
</script>

    
<script nonce="25ba8fcb-0a83-438b-a899-95ce0f7fb373">
  window.publishProps = JSON.parse(`{"isOwnerAnonymous":false,"isOwnedByTeam":false,"ownerInfo":{"name":"%E7%A7%8B%E6%B0%B4%E6%B5%AE%E8%90%8D","path":"w4WWoKUcTSyJOu8TNm1YHQ","avatarUrl":"https%3A%2F%2Flh3.googleusercontent.com%2F-dL67k8hospI%2FAAAAAAAAAAI%2FAAAAAAAAAAA%2FAKF05nC4R8RhfLRkQu8sHU0hNhBUeQdOVw%2Fphoto.jpg","description":null},"isPublished":true,"createTime":1678171743694,"updateTime":1678172668263,"vcsSyncMode":"github","vcsProviderName":"GitHub","canEdit":false,"hardBreaks":true,"onlyOwnerCanEdit":true,"isCommentEnabled":true,"likedCount":0,"isNotificationEnabled":true,"notificationType":"never","hasEmail":false,"canWriteComment":false,"viewCount":77,"markdown":"%23%20voxy%20socket%20%26%20rtc%0A%0A%23%201.%E5%BB%BA%E7%AB%8B%E9%80%A3%E7%B7%9A%0A%E6%B8%AC%E8%A9%A6%E9%80%A3%E7%B7%9A%E4%BD%8D%E7%BD%AE%3A%20wss%3A%2F%2Fwebrtc-voxy.cfd888.info%3A8186%0A%0A%E6%AD%A3%E5%BC%8F%E7%89%88%EF%BC%9A%20wss%3A%2F%2Fchat.horofriend88.com%3A8185%0A%0A%E6%8E%A5%E6%94%B6%E8%A8%8A%E6%81%AF%0A%7C%20key%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20value%20%20%20%20%7C%20description%20%20%20%7C%20type%20%20%20%7C%0A%7C%20----------------%20%7C%20--------%20%7C%20-------------%20%7C%20------%20%7C%0A%7C%20action%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20link_on%20%20%7C%20%E8%A8%8A%E6%81%AF%E9%A1%9E%E5%9E%8B%20%20%20%20%20%20%7C%20string%20%7C%0A%7C%20content%20%20%20%20%20%20%20%20%20%20%7C%20%E9%80%A3%E7%B7%9A%E6%88%90%E5%8A%9F%20%7C%20%E5%9B%9E%E5%82%B3%E8%A8%8A%E6%81%AF%20%20%20%20%20%20%7C%20string%20%7C%0A%7C%20link_id%20%20%20%20%20%20%20%20%20%20%7C%202%20%20%20%20%20%20%20%20%7C%20%E9%80%A3%E7%B7%9Aid%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%0A%7C%20category%20%20%20%20%20%20%20%20%20%7C%20system%20%20%20%7C%20%E8%81%8A%E5%A4%A9%E9%A1%9E%E5%9E%8B%20%20%20%20%20%20%7C%20string%20%7C%0A%7C%20iceserver_config%20%7C%20%E5%A6%82%E4%B8%8B%20%20%20%20%20%7C%20iceserver%E8%B3%87%E8%A8%8A%20%7C%20json%20%20%20%7C%0A%0A%0A%60%60%60%0A%7B%0A%20%20%20%20iceServers%3A%20%7B%0A%20%20%20%20%20%20%20%20urls%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20'stun%3Astun.l.google.com%3A19302'%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20username%3A%20'ceshi'%2C%0A%20%20%20%20%20%20%20%20credential%3A%20'ceshi'%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A%0A%23%202.%E7%B6%81%E5%AE%9A%E6%9C%83%E5%93%A1id%20%0A%E5%82%B3%E9%80%81%E5%8F%83%E6%95%B8%0A%7C%20key%20%20%20%20%20%20%20%7C%20demovalue%20%7C%20type%20%20%20%7C%20note%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20must%20%7C%0A%7C%20---------%20%7C%20---------%20%7C%20------%20%7C%20------------------%20%7C%20----%20%7C%0A%7C%20action%20%20%20%20%20%20%7C%20bind%20%20%20%20%20%20%7C%20string%20%7C%20%E8%A8%8A%E6%81%AF%E9%A1%9E%E5%9E%8B%20%20%20%20%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_id%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84id%20%20%20%20%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_img%20%20%7C%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E5%A4%A7%E9%A0%AD%E8%B2%BC%20%20%20%20%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20user_name%20%7C%20%E8%A8%AA%E5%AE%A21%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9A%B1%E7%A8%B1%20%20%20%20%20%20%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20link_id%20%20%20%7C%202%20%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%20%E6%AD%A4%E6%AC%A1%E7%9A%84%E9%80%A3%E7%B7%9Aid%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20to_userid%20%7C%20-1%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E9%80%9A%E7%9F%A5%E6%89%80%E6%9C%89%E4%BA%BA%E4%BD%A0%E4%B8%8A%E7%B7%9A%E4%BA%86%20%7C%20T%20%20%20%20%7C%0A%0A%E6%8E%A5%E6%94%B6%E8%A8%8A%E6%81%AF%0A%7C%20key%20%20%20%20%20%20%7C%20value%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20description%20%20%7C%20type%20%20%20%7C%0A%7C%20--------%20%7C%20-------------------%20%7C%20------------%20%7C%20------%20%7C%0A%7C%20action%20%20%20%20%20%7C%20bind%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E8%A8%8A%E6%81%AF%E9%A1%9E%E5%9E%8B%20%20%20%20%20%7C%20string%20%7C%0A%7C%20content%20%20%7C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E5%9B%9E%E5%82%B3%E8%A8%8A%E6%81%AF%20%20%20%20%20%7C%20string%20%7C%0A%7C%20link_id%20%20%7C%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E9%80%A3%E7%B7%9Aid%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%0A%7C%20time%20%20%20%20%20%7C%202020-11-07%2009%3A00%3A00%20%7C%20push%E6%99%82%E9%96%93%20%20%20%20%20%7C%20string%20%7C%0A%7C%20list%20%20%20%20%20%7C%20%E5%8F%83%E7%85%A7%E4%B8%8B%E9%9D%A2%E6%A0%BC%E5%BC%8F1%20%20%20%20%20%20%20%7C%20%E7%95%B6%E5%89%8D%E6%9C%83%E5%93%A1%E5%88%97%E8%A1%A8%20%7C%20array%20%20%7C%0A%7C%20category%20%7C%20private%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E8%81%8A%E5%A4%A9%E9%A1%9E%E5%9E%8B%20%20%20%20%20%7C%20string%20%7C%0A%0A%0A%23%203.%20%E5%82%B3%E9%80%81%E8%A8%8A%E6%81%AF%0A%7C%20key%20%20%20%20%20%20%20%20%20%20%20%7C%20demovalue%20%20%20%20%20%20%20%20%20%7C%20type%20%20%20%7C%20note%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20must%20%7C%0A%7C%20-------------%20%7C%20-----------------%20%7C%20------%20%7C%20----------------------%20%7C%20----%20%7C%0A%7C%20action%20%20%20%20%20%20%20%20%7C%20say%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%A8%8A%E6%81%AF%E9%A1%9E%E5%9E%8B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20type%20%20%20%20%20%20%20%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C1%EF%BC%9A%E6%96%87%E5%AD%97%E3%80%812%EF%BC%9A%E8%AA%9E%E9%9F%B3%E3%80%813%EF%BC%9A%E5%9C%96%E7%89%87%E3%80%814%EF%BC%9A%E5%BD%B1%E7%89%87%E3%80%815%EF%BC%9A%E4%BA%92%E5%8B%95%E9%81%8A%E6%88%B2%E3%80%816%EF%BC%9A%E5%B0%8F%E5%A4%A9%E4%BD%BF%E7%B3%BB%E7%B5%B1%E6%B6%88%E6%81%AF%E3%80%817%EF%BC%9A%E5%8B%95%E6%85%8B%E7%95%99%E8%A8%80%E3%80%818%EF%BC%9A%E7%94%B7%E8%A7%80%E7%9C%8B%E8%87%AA%E5%8B%95%E7%99%BC%E5%9C%96%E6%96%87%E3%80%819%EF%BC%9A%E5%A5%B3%E7%BE%A4%E7%99%BC%E3%80%8110%EF%BC%9A%E5%A5%B3%E7%99%BC%E6%96%87%E5%89%8D%E8%87%AA%E5%8B%95%E7%99%BC%E8%88%88%E8%B6%A3(%E5%8C%85%E5%90%ABtype%3D8)%E3%80%8111%EF%BC%9A%E7%A6%AE%E7%89%A9%E3%80%8112%EF%BC%9A%E8%81%8A%E5%A4%A9%E5%AE%A4%E7%A7%81%E5%AF%86%E7%85%A7%E7%89%87%E3%80%8113%EF%BC%9A%E8%B4%88%E9%80%81%E6%B4%BB%E5%8B%95%E7%89%A9%E5%93%81%20%20%20%20%20%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20user_id%20%20%20%20%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%83%E5%93%A1id%20%20%20%20%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_img%20%20%20%20%20%20%7C%20img%2Fprofile_0.jpg%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E5%A4%A7%E9%A0%AD%E8%B2%BC%20%20%20%20%20%20%20%20%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20user_name%20%20%20%20%20%7C%20%E8%A8%AA%E5%AE%A21%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9A%B1%E7%A8%B1%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20to_userid%20%20%20%20%20%7C%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%B0%8D%E6%96%B9%E6%9C%83%E5%93%A1id%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20to_username%20%20%20%7C%20%E8%A8%AA%E5%AE%A22%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%B0%8D%E6%96%B9%E6%9A%B1%E7%A8%B1%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20content%20%20%20%20%20%20%20%7C%20%E4%BD%A0%E5%A5%BD%E5%97%8E%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E6%9C%AC%E6%AC%A1%E7%99%BC%E9%80%81%E8%A8%8A%E6%81%AF%20%20%20%20%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20category%20%20%20%20%20%20%7C%20private%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%81%8A%E5%A4%A9%E9%A1%9E%E5%9E%8B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20media%20%20%20%20%20%20%20%20%20%7C%20%E8%AB%8B%E7%9C%8B%E4%B8%8B%E9%9D%A2%E6%A0%BC%E5%BC%8F2%20%20%20%20%20%7C%20string%20%7C%20%E5%AA%92%E9%AB%94%E8%B3%87%E6%96%99%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20to_user_os_type%20%20%20%20%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%B0%8D%E6%96%B9%E7%9A%84%E6%89%8B%E6%A9%9Fos%20%20%20%20%20%20%20%20%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20to_user_token%20%7C%20aabbabc%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%B0%8D%E6%96%B9%E7%9A%84%E6%89%8B%E6%A9%9Ftoken%20%20%20%20%20%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20to_user_chat_pn%20%20%20%20%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%B0%8D%E6%96%B9%E7%9A%84%E8%81%8A%E5%A4%A9%E8%A8%AD%E5%AE%9A%E6%98%AF%E5%90%A6%E9%96%8B%E5%95%9F%20%7C%20F%20%20%20%20%7C%0A%7C%20sensitive%20%20%20%20%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E6%98%AF%E5%90%A6%E5%90%AB%E6%9C%89%E6%95%8F%E6%84%9F%E5%AD%97%E7%9C%BC%EF%BC%8C1%3A%20%E6%9C%89%2C%200%3A%E6%B2%92%E6%9C%89%20%7C%20F%20%20%20%20%7C%0A%0Aps%3Acategory%20%E5%A6%82%E6%9E%9C%E5%B8%B6%E5%85%A5default%20%E6%98%AF%E9%87%9D%E5%B0%8D%E6%89%80%E6%9C%89%E4%BA%BA%E9%80%B2%E8%A1%8C%E4%BA%A4%E8%AB%87%2C%E5%B8%B6%E5%85%A5id%20%E5%89%87%E7%82%BA%E7%A7%81%E8%81%8A%0A*%20%E8%81%8A%E5%A4%A9%E5%AE%A4%E5%BC%95%E7%94%A8%E5%9B%9E%E5%BE%A9%20type%20%3D%207%0A*%20%E5%A5%B3%E7%94%9F%E4%B8%8D%E5%87%BA%E7%8F%BE%E5%9C%A8%E5%B0%8D%E8%A9%B1%E6%A1%86%E7%9A%84%E7%B3%BB%E7%B5%B1%E4%BB%A3%E7%99%BC%E5%BC%95%E5%B0%8E%E8%A8%8A%E6%81%AF%20type%20%3D%208%0A*%20%E7%B3%BB%E7%B5%B1%E5%BC%95%E5%B0%8E%E8%A8%8A%E6%81%AF%20type%20%3D%209%0A%0A%0A%E6%8E%A5%E6%94%B6%E8%A8%8A%E6%81%AF%0A%7C%20key%20%20%20%20%20%20%20%20%20%20%20%7C%20value%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20description%20%20%20%20%20%20%20%20%20%20%20%20%7C%20type%20%20%20%7C%0A%7C%20-------------%20%7C%20-------------------%20%7C%20----------------------%20%7C%20------%20%7C%0A%7C%20action%20%20%20%20%20%20%20%20%7C%20say%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E8%A8%8A%E6%81%AF%E9%A1%9E%E5%9E%8B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%0A%7C%20content%20%20%20%20%20%20%20%7C%20hello%20world%20%20%20%20%20%20%20%20%20%7C%20push%E8%A8%8A%E6%81%AF%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%0A%7C%20link_id%20%20%20%20%20%20%20%7C%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E9%80%A3%E7%B7%9Aid%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%0A%7C%20time%20%20%20%20%20%20%20%20%20%20%7C%202020-11-07%2009%3A00%3A00%20%7C%20push%E6%99%82%E9%96%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%0A%7C%20list%20%20%20%20%20%20%20%20%20%20%7C%20%E5%8F%83%E7%85%A7%E4%B8%8B%E9%9D%A2%E6%A0%BC%E5%BC%8F1%20%20%20%20%20%20%20%7C%20%E7%95%B6%E5%89%8D%E6%9C%83%E5%93%A1%E5%88%97%E8%A1%A8%20%20%20%20%20%20%20%20%20%20%20%7C%20array%20%20%7C%0A%7C%20to_userid%20%20%20%20%20%7C%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E5%B0%8D%E8%AA%B0%E4%BD%BF%E7%94%A8%E5%AF%86%E8%AA%9E%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%0A%7C%20to_userimg%20%20%20%20%7C%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E5%B0%8D%E6%96%B9%E5%9C%96%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%0A%7C%20to_username%20%20%20%7C%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E5%B0%8D%E6%96%B9%E5%90%8D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%0A%7C%20category%20%20%20%20%20%20%7C%20private%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%E8%81%8A%E5%A4%A9%E9%A1%9E%E5%9E%8B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%0A%7C%20media%20%20%20%20%20%20%20%20%20%7C%20%E8%AB%8B%E7%9C%8B%E4%B8%8B%E9%9D%A2%E6%A0%BC%E5%BC%8F2%20%20%20%20%20%20%20%7C%20%E5%AA%92%E9%AB%94%E8%B3%87%E6%96%99%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%0A%0A%0A%23%23%23%20%E6%A0%BC%E5%BC%8F2%0A%60%60%60%0A%7B%22file%22%3A%5B%7B%22file_id%22%3A%22540%22%2C%22file_url%22%3A%22http%3A%2F%2F172.105.228.202%2Fvoxy%2Ffile%2Fmode_1%2F20210406%2F606bdc5416dff.png%22%0A%2C%22file_length%22%3A%22%22%2C%22file_preview%22%3A%22%22%2C%22diamond%22%3A%22%22%2C%22islock%22%3Afalse%7D%5D%7D%0A%60%60%60%0A%0A%23%204.%20%E5%BF%83%E8%B7%B3%E6%AA%A2%E6%B8%AC%20%0A%E7%9B%AE%E5%89%8D%E9%A0%90%E8%A8%AD30%E7%A7%92%E6%AA%A2%E6%9F%A5%E4%B8%80%E6%AC%A1%2C%E5%A6%82%E6%9E%9C%E6%B2%92ping%E5%89%87%E6%9C%83%E8%A2%ABserver%E6%96%B7%E7%B7%9A%0A%7C%20key%20%20%20%20%20%7C%20demovalue%20%7C%20type%20%20%20%7C%20note%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20must%20%7C%0A%7C%20-------%20%7C%20---------%20%7C%20------%20%7C%20----------------%20%7C%20----%20%7C%0A%7C%20action%20%20%20%20%7C%20ping%20%20%20%20%20%20%7C%20string%20%7C%20%E5%BF%83%E8%B7%B3%E6%AA%A2%E6%B8%AC%E7%94%A8%E7%9A%84%E9%A1%9E%E5%9E%8B%20%7C%20T%20%20%20%20%7C%0A%7C%20link_id%20%7C%201%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84link%20id%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%0A%23%205.webrtc%20%E9%80%9A%E8%A9%B1%2F%E8%A6%96%E8%A8%8A%2F%E9%81%8A%E6%88%B2%0A%0A%23%23%20%E6%83%85%E5%A2%83%E5%9C%96%3A%0A!%5B%5D(https%3A%2F%2Fi.imgur.com%2FOqu99W8.jpg)%0A%0A%0A%23%20%E7%99%BC%E8%B5%B7%E8%A9%A2%E5%95%8F%E6%98%AF%E5%90%A6%E6%8E%A5%E8%81%BD%E9%9B%BB%E8%A9%B1%0A%23%23%20%E5%B0%8D%E8%B1%A1%3A%E7%99%BC%E9%80%81%E6%96%B9%0A%7C%20key%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20demovalue%20%20%20%20%20%20%20%20%20%7C%20type%20%20%20%7C%20note%20%20%20%20%20%20%20%20%20%20%20%7C%20must%20%7C%0A%7C%20---------------%20%7C%20-----------------%20%7C%20------%20%7C%20--------------%20%7C%20----%20%7C%0A%7C%20action%20%20%20%20%20%20%20%20%20%20%7C%20call_remote%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%A8%8A%E6%81%AF%E9%A1%9E%E5%9E%8B%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_id%20%20%20%20%20%20%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%83%E5%93%A1id%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_img%20%20%20%20%20%20%20%20%7C%20img%2Fprofile_0.jpg%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E5%A4%A7%E9%A0%AD%E8%B2%BC%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_name%20%20%20%20%20%20%20%7C%20%E8%A8%AA%E5%AE%A21%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9A%B1%E7%A8%B1%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20to_userid%20%20%20%20%20%20%20%7C%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%B0%8D%E6%96%B9%E6%9C%83%E5%93%A1id%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20used_phone%20%20%20%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%20%E6%98%AF%E5%90%A6%E6%9C%89%E6%84%8F%E9%A1%98%E6%8E%A5%E8%81%BD%20%7C%20T%20%20%20%20%7C%0A%7C%20media_type%20%20%20%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%201%E8%AA%9E%E9%9F%B32%E8%A6%96%E8%A8%8A%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_voice_fee%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%20%E8%AA%9E%E9%9F%B3%E8%B2%BB%E7%94%A8(%E6%AD%A4%E6%AC%A1%E9%80%9A%E8%A9%B1%E8%B2%BB%E7%8E%87)%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_text_fee%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%20%E8%A8%8A%E6%81%AF%E8%B2%BB%E7%94%A8(%E6%AD%A4%E6%AC%A1%E9%80%9A%E8%A9%B1%E8%B2%BB%E7%8E%87)%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_video_fee%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%20%E8%A6%96%E8%A8%8A%E8%B2%BB%E7%94%A8(%E6%AD%A4%E6%AC%A1%E9%80%9A%E8%A9%B1%E8%B2%BB%E7%8E%87)%20%20%7C%20T%20%20%20%20%7C%0A%7C%20to_user_os_type%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%20%E5%B0%8D%E6%96%B9%E6%89%8B%E6%A9%9Fos%20%20%E4%BD%9C%E6%A5%AD%E7%B3%BB%E7%B5%B1%EF%BC%9B1%EF%BC%9AAndroid%EF%BC%8C2%EF%BC%9AiOS%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_age%20%20%20%20%20%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%20%E8%87%AA%E5%B7%B1%E5%B9%B4%E7%B4%80%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20to_user_token%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%B0%8D%E6%96%B9%E7%9A%84token%20%20%20%20%7C%20T%20%0A%7C%20connection_mode%20%20%20%7C%200%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E7%99%BC%E8%B5%B7%E6%A8%A1%E5%BC%8F(Ex%EF%BC%9AincomingCall(0)%20%2F%20GuessGame(1))%20%2F%20LuckyWheel(2)%20%20%20%7C%20T%20%20%20%7C%0A%0Aps1.%E7%99%BC%E8%B5%B7%E6%96%B9%20used_phone%20%3D%201%20%E8%A9%A2%E5%95%8F%E9%80%9A%E8%A9%B1%20%3B%20%20used_phone%20%3D%200%20%E5%8F%96%E6%B6%88%E8%A9%A2%E5%95%8F%E9%80%9A%E8%A9%B1%0Aps2.%20%E8%8B%A5%E7%82%BA%E6%8E%A5%E6%94%B6%E6%96%B9%EF%BC%8Cused_phone%20%3D%201%20%E5%90%8C%E6%84%8F%E9%80%9A%E8%A9%B1%20%3B%20used_phone%20%3D%200%20%E6%8B%92%E7%B5%95%E9%80%9A%E8%A9%B1%0A%0Aps3.web%E5%9C%A8%E5%90%8C%E6%84%8F%E7%9A%84%E7%95%B6%E4%B8%8B%20%E8%A6%81%E5%85%88%E7%A2%BA%E8%AA%8D%20mediaDevices%20%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%20%2C%E5%90%A6%E5%89%87%E4%B9%8B%E5%BE%8C%E6%B5%81%E7%A8%8B%E6%9C%83%E6%9C%89%E5%95%8F%E9%A1%8C%0A%0A%0A%23%20%E7%A2%BA%E8%AA%8D%E6%98%AF%E5%90%A6%E6%8E%A5%E8%81%BD%0A%23%23%20%E5%B0%8D%E8%B1%A1%3A%E6%8E%A5%E6%94%B6%E6%96%B9%0A%7C%20key%20%20%20%20%20%20%20%7C%20demovalue%20%20%20%20%20%20%20%20%20%20%20%20%7C%20type%20%20%20%7C%20note%20%20%20%20%20%20%20%20%20%20%20%7C%20must%20%7C%0A%7C%20---------%20%7C%20--------------------%20%7C%20------%20%7C%20--------------%20%7C%20----%20%7C%0A%7C%20action%20%20%20%20%20%20%7C%20call_remote_callback%20%7C%20string%20%7C%20%E8%A8%8A%E6%81%AF%E9%A1%9E%E5%9E%8B%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_id%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%83%E5%93%A1id%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_img%20%20%7C%20img%2Fprofile_0.jpg%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E5%A4%A7%E9%A0%AD%E8%B2%BC%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20user_name%20%7C%20%E8%A8%AA%E5%AE%A21%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9A%B1%E7%A8%B1%20%20%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20to_userid%20%7C%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%B0%8D%E6%96%B9%E6%9C%83%E5%93%A1id%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20used_phone%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%20%E6%98%AF%E5%90%A6%E9%9B%99%E6%96%B9%E9%83%BD%E5%B7%B2%E7%A2%BA%E8%AA%8D%20%7C%20T%20%20%20%20%7C%0A%7C%20media_type%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%201%E8%AA%9E%E9%9F%B32%E8%A6%96%E8%A8%8A%20%7C%20T%20%20%20%20%7C%0A%7C%20to_user_voice_fee%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%20%E8%AA%9E%E9%9F%B3%E8%B2%BB%E7%94%A8%20%7C%20F%20%20%20%20%7C%0A%7C%20to_user_text_fee%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%20%E8%A8%8A%E6%81%AF%E8%B2%BB%E7%94%A8%20%7C%20F%20%20%20%20%7C%0A%7C%20to_user_video_fee%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%20%E8%A6%96%E8%A8%8A%E8%B2%BB%E7%94%A8%20%7C%20F%20%20%20%20%7C%0A%7C%20to_user_token%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%B0%8D%E6%96%B9%E7%9A%84token%20%20%20%20%7C%20T%20%0A%7C%20connection_mode%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E7%99%BC%E8%B5%B7%E6%A8%A1%E5%BC%8F(Ex%EF%BC%9AincomingCall(0)%20%2F%20GuessGame(1))%20%20%20%7C%20T%20%20%20%7C%0A%0Aps1%20%3A%20%E6%8E%A5%E6%94%B6%E6%96%B9%20used_phone%20%3D%200%20%E6%94%B6%E5%88%B0%E4%BE%86%E9%9B%BB%E9%80%9A%E7%9F%A5%20%3B%20used_phone%20%3D%203%20%E6%8B%92%E7%B5%95%E9%80%9A%E8%A9%B1%3B%0Aused_phone%20%3D%202%20%E5%B0%8D%E6%96%B9%E5%BF%99%E7%B7%9A%E4%B8%AD%20%3B%20used_phone%20%3D%204%20%E4%B8%8D%E5%AD%98%E5%9C%A8%E6%AD%A4%E4%BA%BA%0A%0Aps2%20%3A%20%E6%92%A5%E6%89%93%E6%96%B9%20used_phone%20%3D%201%20%E6%8E%A5%E8%81%BD%E9%9B%BB%E8%A9%B1%20%3B%20used_phone%20%3D%203%20%E6%8B%92%E7%B5%95%E9%80%9A%E8%A9%B1%20%3B%20used_phone%20%3D%202%20%E5%B0%8D%E6%96%B9%E5%BF%99%E7%B7%9A%E4%B8%AD%20%3B%20used_phone%20%3D%204%20%E4%B8%8D%E5%AD%98%E5%9C%A8%E6%AD%A4%E4%BA%BA%0A%0A%23%20%E9%9B%99%E6%96%B9%E9%83%BD%E7%A2%BA%E8%AA%8D%E5%BE%8C%20%E9%96%8B%E5%A7%8BRTC%0A%23%20create_offer%20%E4%B8%A6%E7%99%BCclient_offer%20%E9%80%9A%E7%9F%A5%E7%B5%A6%E5%B0%8D%E6%96%B9%0A%7C%20key%20%20%20%20%20%20%20%7C%20demovalue%20%20%20%20%20%20%20%20%20%7C%20type%20%20%20%7C%20note%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20must%20%7C%0A%7C%20---------%20%7C%20-----------------%20%7C%20------%20%7C%20----------------%20%7C%20----%20%7C%0A%7C%20action%20%20%20%20%20%20%7C%20client_offer%20%20%20%20%20%20%7C%20string%20%7C%20%E8%A8%8A%E6%81%AF%E9%A1%9E%E5%9E%8B%20%20%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_id%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%83%E5%93%A1id%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_img%20%20%7C%20img%2Fprofile_0.jpg%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E5%A4%A7%E9%A0%AD%E8%B2%BC%20%20%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20user_name%20%7C%20%E8%A8%AA%E5%AE%A21%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9A%B1%E7%A8%B1%20%20%20%20%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20to_userid%20%7C%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%B0%8D%E6%96%B9%E6%9C%83%E5%93%A1id%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20info%20%20%20%20%20%20%7C%20description%E7%89%A9%E4%BB%B6%20%20%20%7C%20string%20%7C%20localDescription%20%7C%20T%20%20%20%20%7C%0A%23%23%20%E6%96%87%E4%BB%B6%E5%A4%AA%E9%9B%A3%E5%AF%AB%E9%99%84%E4%B8%8Ademo%E7%9A%84%E7%9B%B8%E9%97%9Ccode%0A!%5B%5D(https%3A%2F%2Fi.imgur.com%2F16zPttY.png)%0A%0A%0A%0A%0A%23%20RTC%20client_offer%20%E5%9B%9E%E5%82%B3%0A%7C%20key%20%20%7C%20demovalue%20%20%20%20%20%20%20%7C%20type%20%20%20%7C%20note%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20----%20%7C%20---------------%20%7C%20------%20%7C%20----------------------%20%7C%0A%7C%20action%20%7C%20client_offer%20%20%20%20%7C%20string%20%7C%20%E8%A8%8A%E6%81%AF%E9%A1%9E%E5%9E%8B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20info%20%7C%20description%E7%89%A9%E4%BB%B6%20%7C%20string%20%7C%20%E5%B0%8D%E6%96%B9%E7%9A%84localDescription%20%7C%0A%0A%0A%23%20RTC%20%E6%8E%A5%E6%94%B6%E5%88%B0client_offer%E5%BE%8C%20create_answer%20%E4%B8%A6%E7%99%BCclient_answer%20%E9%80%9A%E7%9F%A5%E7%B5%A6%E5%B0%8D%E6%96%B9%0A%7C%20key%20%20%20%20%20%20%20%7C%20demovalue%20%20%20%20%20%20%20%20%20%7C%20type%20%20%20%7C%20note%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20must%20%7C%0A%7C%20---------%20%7C%20-----------------%20%7C%20------%20%7C%20----------------%20%7C%20----%20%7C%0A%7C%20action%20%20%20%20%20%20%7C%20client_answer%20%20%20%20%20%20%7C%20string%20%7C%20%E8%A8%8A%E6%81%AF%E9%A1%9E%E5%9E%8B%20%20%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_id%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%83%E5%93%A1id%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_img%20%20%7C%20img%2Fprofile_0.jpg%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E5%A4%A7%E9%A0%AD%E8%B2%BC%20%20%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20user_name%20%7C%20%E8%A8%AA%E5%AE%A21%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9A%B1%E7%A8%B1%20%20%20%20%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20to_userid%20%7C%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%B0%8D%E6%96%B9%E6%9C%83%E5%93%A1id%20%20%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20info%20%20%20%20%20%20%7C%20description%E7%89%A9%E4%BB%B6%20%20%20%7C%20string%20%7C%20localDescription%20%7C%20T%20%20%20%20%7C%0A!%5B%5D(https%3A%2F%2Fi.imgur.com%2FVx8s9UL.png)%0A%0A%0A%0A%23%20RTC%20client_answer%20%E5%9B%9E%E5%82%B3%0A%7C%20key%20%20%7C%20demovalue%20%20%20%20%20%7C%20type%20%20%20%7C%20note%20%20%20%20%20%20%20%20%20%7C%0A%7C%20----%20%7C%20-------------%20%7C%20------%20%7C%20------------%20%7C%20%0A%7C%20action%20%7C%20client_answer%20%7C%20string%20%7C%20%E8%A8%8A%E6%81%AF%E9%A1%9E%E5%9E%8B%20%20%20%20%20%7C%0A%7C%20info%20%7C%20description%E7%89%A9%E4%BB%B6%20%7C%20string%20%7C%20%E5%B0%8D%E6%96%B9%E7%9A%84localDescription%20%7C%0A!%5B%5D(https%3A%2F%2Fi.imgur.com%2FyJ8Llkv.png)%0A%0A%0A%23%20RTC%20client_candidate%0A%7C%20key%20%20%20%20%20%20%20%7C%20demovalue%20%20%20%20%20%20%20%20%20%7C%20type%20%20%20%7C%20note%20%20%20%20%20%20%20%20%20%7C%20must%20%7C%0A%7C%20---------%20%7C%20-----------------%20%7C%20------%20%7C%20------------%20%7C%20----%20%7C%0A%7C%20action%20%20%20%20%20%20%7C%20client_candidate%20%20%7C%20string%20%7C%20%E8%A8%8A%E6%81%AF%E9%A1%9E%E5%9E%8B%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_id%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%83%E5%93%A1id%20%7C%20T%20%20%20%20%7C%0A%7C%20user_img%20%20%7C%20img%2Fprofile_0.jpg%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E5%A4%A7%E9%A0%AD%E8%B2%BC%20%7C%20F%20%20%20%20%7C%0A%7C%20user_name%20%7C%20%E8%A8%AA%E5%AE%A21%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9A%B1%E7%A8%B1%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20to_userid%20%7C%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%B0%8D%E6%96%B9%E6%9C%83%E5%93%A1id%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20ice_sdp%20%7C%20xxx%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20iceCandidate.sdp%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20ice_index%20%7C%200%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Cint%7CiceCandidate.sdpMLineIndex%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20ice_mid%20%7C%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20iceCandidate.sdpMid%20%20%20%7C%20T%20%20%20%20%7C%0A%0A%0A!%5B%5D(https%3A%2F%2Fi.imgur.com%2F1mqyzNV.png)%0A%0A%0A%23%20RTC%20client_candidate%20%E5%9B%9E%E5%82%B3%0A%7C%20key%20%20%20%20%20%20%20%7C%20demovalue%20%20%20%20%20%20%20%20%7C%20type%20%20%20%7C%20note%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%0A%7C%20---------%20%7C%20----------------%20%7C%20------%20%7C%20--------------------------%20%7C%20%0A%7C%20action%20%20%20%20%7C%20client_candidate%20%7C%20string%20%7C%20%E8%A8%8A%E6%81%AF%E9%A1%9E%E5%9E%8B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%20%0A%7C%20ice_sdp%20%20%20%7C%20xxx%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20iceCandidate.sdp%20%20%20%20%20%20%20%20%20%20%20%7C%0A%7C%20ice_index%20%7C%200%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20int%20%20%20%20%7C%20iceCandidate.sdpMLineIndex%20%7C%20%0A%7C%20ice_mid%20%20%20%7C%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20iceCandidate.sdpMid%20%20%20%20%20%20%20%20%7C%0A%7C%20logid%20%20%20%7C%20sfd123%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E6%9C%AC%E6%AC%A1%E9%80%9A%E8%A9%B1%E7%9A%84%E5%94%AF%E4%B8%80id%20%20%20%20%20%20%20%7C%20%0A%0A!%5B%5D(https%3A%2F%2Fi.imgur.com%2FqGpQxmi.png)%0A%0A%0A%23%206.%E6%8E%9B%E9%9B%BB%E8%A9%B1%0A%7C%20key%20%20%20%20%20%20%20%7C%20demovalue%20%20%20%20%20%20%20%20%20%7C%20type%20%20%20%7C%20note%20%20%20%20%20%20%20%20%20%7C%20must%20%7C%0A%7C%20---------%20%7C%20-----------------%20%7C%20------%20%7C%20------------%20%7C%20----%20%7C%0A%7C%20action%20%20%20%20%7C%20cancel_phone%20%20%20%20%20%20%7C%20string%20%7C%20%E8%A8%8A%E6%81%AF%E9%A1%9E%E5%9E%8B%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20user_id%20%20%20%7C%201%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%83%E5%93%A1id%20%7C%20T%20%20%20%20%7C%0A%7C%20user_img%20%20%7C%20img%2Fprofile_0.jpg%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E5%A4%A7%E9%A0%AD%E8%B2%BC%20%7C%20F%20%20%20%20%7C%0A%7C%20user_name%20%7C%20%E8%A8%AA%E5%AE%A21%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9A%B1%E7%A8%B1%20%20%20%7C%20F%20%20%20%20%7C%0A%7C%20to_userid%20%7C%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E5%B0%8D%E6%96%B9%E6%9C%83%E5%93%A1id%20%20%20%7C%20T%20%20%20%20%7C%0A%7C%20time%20%20%20%20%20%20%7C%200%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20string%20%7C%20%E9%80%9A%E8%A9%B1%E7%A7%92%E6%95%B8%20%20%20%20%20%7C%20T%20%20%20%20%7C%0A%0A%0A%0A%0A","viewMode":"publish","isOwner":false,"isSignIn":false,"isLiked":false,"isBookmarked":false,"publishType":"view","commentCount":0,"isNotesRecommendationsEnabled":true,"recommendedNotes":[],"lastChangeUserInfo":{"name":"%E7%A7%8B%E6%B0%B4%E6%B5%AE%E8%90%8D","path":"w4WWoKUcTSyJOu8TNm1YHQ","avatarUrl":"https%3A%2F%2Flh3.googleusercontent.com%2F-dL67k8hospI%2FAAAAAAAAAAI%2FAAAAAAAAAAA%2FAKF05nC4R8RhfLRkQu8sHU0hNhBUeQdOVw%2Fphoto.jpg"}}`);
  (function () {
    const decodeStringProps = (props) => {
      for (const key in props) {
        if (typeof props[key] === 'string') {
          props[key] = decodeURIComponent(props[key])
        } else if (typeof props[key] === 'object') {
          decodeStringProps(props[key])
        }
      }
    }
    decodeStringProps(window.publishProps)
  })()
</script>

    <script src="https://tally.so/widgets/embed.js"></script>

    
</head>

<body style="display:none;">
    <div id="toasts-container" class="toasts-container z-[2000]"></div>
    <div id="publish-page"># voxy socket &amp; rtc

# 1.建立連線
測試連線位置: wss://webrtc-voxy.cfd888.info:8186

正式版： wss://chat.horofriend88.com:8185

接收訊息
| key              | value    | description   | type   |
| ---------------- | -------- | ------------- | ------ |
| action             | link_on  | 訊息類型      | string |
| content          | 連線成功 | 回傳訊息      | string |
| link_id          | 2        | 連線id        | int    |
| category         | system   | 聊天類型      | string |
| iceserver_config | 如下     | iceserver資訊 | json   |


```
{
    iceServers: {
        urls: [
            &#39;stun:stun.l.google.com:19302&#39;
        ],
        username: &#39;ceshi&#39;,
        credential: &#39;ceshi&#39;
    }
}
```


# 2.綁定會員id 
傳送參數
| key       | demovalue | type   | note               | must |
| --------- | --------- | ------ | ------------------ | ---- |
| action      | bind      | string | 訊息類型           | T    |
| user_id   | 1         | string | 自己的id           | T    |
| user_img  |           | string | 自己的大頭貼       | F    |
| user_name | 訪客1     | string | 自己的暱稱         | F    |
| link_id   | 2         | int    | 此次的連線id       | T    |
| to_userid | -1        | string | 通知所有人你上線了 | T    |

接收訊息
| key      | value               | description  | type   |
| -------- | ------------------- | ------------ | ------ |
| action     | bind                | 訊息類型     | string |
| content  |                     | 回傳訊息     | string |
| link_id  | 2                   | 連線id       | int    |
| time     | 2020-11-07 09:00:00 | push時間     | string |
| list     | 參照下面格式1       | 當前會員列表 | array  |
| category | private             | 聊天類型     | string |


# 3. 傳送訊息
| key           | demovalue         | type   | note                   | must |
| ------------- | ----------------- | ------ | ---------------------- | ---- |
| action        | say               | string | 訊息類型               | T    |
| type          | 1                 | string |1：文字、2：語音、3：圖片、4：影片、5：互動遊戲、6：小天使系統消息、7：動態留言、8：男觀看自動發圖文、9：女群發、10：女發文前自動發興趣(包含type=8)、11：禮物、12：聊天室私密照片、13：贈送活動物品        | F    |
| user_id       | 1                 | string | 自己的會員id           | T    |
| user_img      | img/profile_0.jpg | string | 自己的大頭貼           | F    |
| user_name     | 訪客1             | string | 自己的暱稱             | F    |
| to_userid     | 2                 | string | 對方會員id             | T    |
| to_username   | 訪客2             | string | 對方暱稱               | F    |
| content       | 你好嗎            | string | 本次發送訊息           | T    |
| category      | private           | string | 聊天類型               | T    |
| media         | 請看下面格式2     | string | 媒體資料               | T    |
| to_user_os_type       | 1                 | string | 對方的手機os           | F    |
| to_user_token | aabbabc           | string | 對方的手機token        | F    |
| to_user_chat_pn       | 1                 | string | 對方的聊天設定是否開啟 | F    |
| sensitive       | 1                 | string | 是否含有敏感字眼，1: 有, 0:沒有 | F    |

ps:category 如果帶入default 是針對所有人進行交談,帶入id 則為私聊
* 聊天室引用回復 type = 7
* 女生不出現在對話框的系統代發引導訊息 type = 8
* 系統引導訊息 type = 9


接收訊息
| key           | value               | description            | type   |
| ------------- | ------------------- | ---------------------- | ------ |
| action        | say                 | 訊息類型               | string |
| content       | hello world         | push訊息               | string |
| link_id       | 2                   | 連線id                 | int    |
| time          | 2020-11-07 09:00:00 | push時間               | string |
| list          | 參照下面格式1       | 當前會員列表           | array  |
| to_userid     | 2                   | 對誰使用密語           | string |
| to_userimg    | 2                   | 對方圖                 | string |
| to_username   | 2                   | 對方名                 | string |
| category      | private             | 聊天類型               | string |
| media         | 請看下面格式2       | 媒體資料               | string |


### 格式2
```
{&#34;file&#34;:[{&#34;file_id&#34;:&#34;540&#34;,&#34;file_url&#34;:&#34;http://172.105.228.202/voxy/file/mode_1/20210406/606bdc5416dff.png&#34;
,&#34;file_length&#34;:&#34;&#34;,&#34;file_preview&#34;:&#34;&#34;,&#34;diamond&#34;:&#34;&#34;,&#34;islock&#34;:false}]}
```

# 4. 心跳檢測 
目前預設30秒檢查一次,如果沒ping則會被server斷線
| key     | demovalue | type   | note             | must |
| ------- | --------- | ------ | ---------------- | ---- |
| action    | ping      | string | 心跳檢測用的類型 | T    |
| link_id | 1         | string | 自己的link id     | T    |

# 5.webrtc 通話/視訊/遊戲

## 情境圖:
![](https://i.imgur.com/Oqu99W8.jpg)


# 發起詢問是否接聽電話
## 對象:發送方
| key             | demovalue         | type   | note           | must |
| --------------- | ----------------- | ------ | -------------- | ---- |
| action          | call_remote       | string | 訊息類型       | T    |
| user_id         | 1                 | string | 自己的會員id   | T    |
| user_img        | img/profile_0.jpg | string | 自己的大頭貼   | T    |
| user_name       | 訪客1             | string | 自己的暱稱     | T    |
| to_userid       | 2                 | string | 對方會員id     | T    |
| used_phone      | 1                 | int    | 是否有意願接聽 | T    |
| media_type      | 1                 | int    | 1語音2視訊     | T    |
| user_voice_fee  | 1                 | int    | 語音費用(此次通話費率)  | T    |
| user_text_fee   | 1                 | int    | 訊息費用(此次通話費率)  | T    |
| user_video_fee  | 1                 | int    | 視訊費用(此次通話費率)  | T    |
| to_user_os_type | 1                 | int    | 對方手機os  作業系統；1：Android，2：iOS   | T    |
| user_age        | 1                 | int    | 自己年紀       | T    |
| to_user_token   | 1                 | string | 對方的token    | T 
| connection_mode   | 0                | string | 發起模式(Ex：incomingCall(0) / GuessGame(1)) / LuckyWheel(2)   | T   |

ps1.發起方 used_phone = 1 詢問通話 ;  used_phone = 0 取消詢問通話
ps2. 若為接收方，used_phone = 1 同意通話 ; used_phone = 0 拒絕通話

ps3.web在同意的當下 要先確認 mediaDevices 是否存在 ,否則之後流程會有問題


# 確認是否接聽
## 對象:接收方
| key       | demovalue            | type   | note           | must |
| --------- | -------------------- | ------ | -------------- | ---- |
| action      | call_remote_callback | string | 訊息類型       | T    |
| user_id   | 1                    | string | 自己的會員id   | T    |
| user_img  | img/profile_0.jpg    | string | 自己的大頭貼   | F    |
| user_name | 訪客1                | string | 自己的暱稱     | F    |
| to_userid | 2                    | string | 對方會員id     | T    |
| used_phone| 1                    | int    | 是否雙方都已確認 | T    |
| media_type | 1                 | int    | 1語音2視訊 | T    |
| to_user_voice_fee | 1                 | int    | 語音費用 | F    |
| to_user_text_fee | 1                 | int    | 訊息費用 | F    |
| to_user_video_fee | 1                 | int    | 視訊費用 | F    |
| to_user_token   | 1                 | string | 對方的token    | T 
| connection_mode   | 1                | string | 發起模式(Ex：incomingCall(0) / GuessGame(1))   | T   |

ps1 : 接收方 used_phone = 0 收到來電通知 ; used_phone = 3 拒絕通話;
used_phone = 2 對方忙線中 ; used_phone = 4 不存在此人

ps2 : 撥打方 used_phone = 1 接聽電話 ; used_phone = 3 拒絕通話 ; used_phone = 2 對方忙線中 ; used_phone = 4 不存在此人

# 雙方都確認後 開始RTC
# create_offer 並發client_offer 通知給對方
| key       | demovalue         | type   | note             | must |
| --------- | ----------------- | ------ | ---------------- | ---- |
| action      | client_offer      | string | 訊息類型         | T    |
| user_id   | 1                 | string | 自己的會員id     | T    |
| user_img  | img/profile_0.jpg | string | 自己的大頭貼     | F    |
| user_name | 訪客1             | string | 自己的暱稱       | F    |
| to_userid | 2                 | string | 對方會員id       | T    |
| info      | description物件   | string | localDescription | T    |
## 文件太難寫附上demo的相關code
![](https://i.imgur.com/16zPttY.png)




# RTC client_offer 回傳
| key  | demovalue       | type   | note                   |
| ---- | --------------- | ------ | ---------------------- |
| action | client_offer    | string | 訊息類型               |
| info | description物件 | string | 對方的localDescription |


# RTC 接收到client_offer後 create_answer 並發client_answer 通知給對方
| key       | demovalue         | type   | note             | must |
| --------- | ----------------- | ------ | ---------------- | ---- |
| action      | client_answer      | string | 訊息類型         | T    |
| user_id   | 1                 | string | 自己的會員id     | T    |
| user_img  | img/profile_0.jpg | string | 自己的大頭貼     | F    |
| user_name | 訪客1             | string | 自己的暱稱       | F    |
| to_userid | 2                 | string | 對方會員id       | T    |
| info      | description物件   | string | localDescription | T    |
![](https://i.imgur.com/Vx8s9UL.png)



# RTC client_answer 回傳
| key  | demovalue     | type   | note         |
| ---- | ------------- | ------ | ------------ | 
| action | client_answer | string | 訊息類型     |
| info | description物件 | string | 對方的localDescription |
![](https://i.imgur.com/yJ8Llkv.png)


# RTC client_candidate
| key       | demovalue         | type   | note         | must |
| --------- | ----------------- | ------ | ------------ | ---- |
| action      | client_candidate  | string | 訊息類型     | T    |
| user_id   | 1                 | string | 自己的會員id | T    |
| user_img  | img/profile_0.jpg | string | 自己的大頭貼 | F    |
| user_name | 訪客1             | string | 自己的暱稱   | F    |
| to_userid | 2                 | string | 對方會員id   | T    |
| ice_sdp | xxx              | string | iceCandidate.sdp   | T    |
| ice_index | 0                |int|iceCandidate.sdpMLineIndex   | T    |
| ice_mid | 2                 | string | iceCandidate.sdpMid   | T    |


![](https://i.imgur.com/1mqyzNV.png)


# RTC client_candidate 回傳
| key       | demovalue        | type   | note                       | 
| --------- | ---------------- | ------ | -------------------------- | 
| action    | client_candidate | string | 訊息類型                   |  
| ice_sdp   | xxx              | string | iceCandidate.sdp           |
| ice_index | 0                | int    | iceCandidate.sdpMLineIndex | 
| ice_mid   | 2                | string | iceCandidate.sdpMid        |
| logid   | sfd123                | string | 本次通話的唯一id       | 

![](https://i.imgur.com/qGpQxmi.png)


# 6.掛電話
| key       | demovalue         | type   | note         | must |
| --------- | ----------------- | ------ | ------------ | ---- |
| action    | cancel_phone      | string | 訊息類型     | T    |
| user_id   | 1                 | string | 自己的會員id | T    |
| user_img  | img/profile_0.jpg | string | 自己的大頭貼 | F    |
| user_name | 訪客1             | string | 自己的暱稱   | F    |
| to_userid | 2                 | string | 對方會員id   | T    |
| time      | 0                 | string | 通話秒數     | T    |




</div>
    <!-- signin modal -->

<div class="modal fade signin-modal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="margin-top: 10px; right: 20px; position: absolute;"><span aria-hidden="true">&times;</span></button>
            






    









<h3>登入</h3>

<form data-toggle="validator" role="form" class="form-horizontal" method="post" enctype="application/x-www-form-urlencoded" id="signin-form">
    <div class="hmd-dn"><input type="hidden" name="_csrf" value="r6bo6Npt-pnzGfBCExfuOCM62kqRBuF2wZDs"></div>
    <div class="hmd-dn"><input type="hidden" name="create_team" value="false"></div>
    <div class="hmd-dn"><input type="hidden" name="create_paid_team" value="false"></div>
    
    <div class="form-group  ">
        <label for="email" class="control-label">Email</label>
        <label for="inputEmail" class="control-label pull-right errors">
            
        </label>
        <span class="help-block control-label with-errors pull-right" style="margin-top: 14px"></span>
        <div class="input-block">
            
                <input type="email" class="form-control" name="email" placeholder="您的 Email" required autocomplete="email">
            
            <span class="error-sign"></span>
        </div>
    </div>
    <div class="form-group ">
        <label for="password" class="control-label">密碼</label>
        <label for="inputPassword" class="control-label pull-right errors">
            
        </label>
        <span class="help-block control-label with-errors pull-right" style="margin-top: 14px"></span>
        <div class="input-block">
            <input type="password" class="form-control" name="password" placeholder="您的密碼" required autocomplete="current-password" maxlength="128">
            <span class="error-sign"></span>
            
                <span class="control-label pull-right !text-normal !leading-normal !font-normal !mt-1.5"><a href="https://hackmd.io/settings/forgotPassword" style="text-decoration: underline;">忘記密碼</a></span>
            
        </div>
    </div>

    <div style="text-align: center; padding-top: 15px; margin-bottom: 0px;">
        <div
            hidden
            id="hmd-captcha"
            data-provider=""
            data-captcha-data=""
            class="flex justify-center"
        ></div>

        
            <input type="submit" class="neo-btn neo-btn-primary !justify-center !py-3.5 !mx-auto w-[180px] text-[18px]" formaction="https://hackmd.io/login" value="登入">
        

        
    </div>
</form>














    
        <p class="separator">或是</p>
    

    
        <p>繼續登入，代表您同意<a href="https://hackmd.io/s/terms" target="_blank">服務條款</a>。</p>
    

    












<script id="gsi-client" src="https://accounts.google.com/gsi/client" async defer nonce="25ba8fcb-0a83-438b-a899-95ce0f7fb373"></script>
<script nonce="25ba8fcb-0a83-438b-a899-95ce0f7fb373">
    function handleCredentialResponse(response) {
        const form = document.getElementById('sign-in-with-google-form')
        form.children.credential.value = response.credential
        form.children.method.value = location.href.toLowerCase() === 'https://hackmd.io/settings#general' ? 'merge' : 'login'
        form.submit()
    }
    var GSI_READY = new Promise(function (resolve) {
        function initialize () {
            google.accounts.id.initialize({
                client_id: '911617723593-drikdibvvn63slfd6kbqigo8ql1no55s.apps.googleusercontent.com',
                callback: handleCredentialResponse
            })
            const loginPath = '/login'
            const joinPath = '/join'
            const renderButton = function () {
                google.accounts.id.renderButton(
                    document.getElementById('sign-in-with-google-button'),
                    { type: 'standard', width: 250 }
                )
            }
            if (location.pathname.toLowerCase() === loginPath || location.pathname.toLowerCase() === joinPath) {
                renderButton()
            } else {
                $('.signin-modal').one('shown.bs.modal', function () {
                    renderButton()
                })
            }
            resolve()
        }

        window.addEventListener('load', function () { initialize() })
    })
</script>
<form class="hidden" id="sign-in-with-google-form" action="/auth/google" method="post">
    <input type="hidden" name="credential">
    <input type="hidden" name="method">
    <input type="hidden" name="_csrf" value="r6bo6Npt-pnzGfBCExfuOCM62kqRBuF2wZDs">
</form>


<div class="oauth-sign-container">
    
    <div id="sign-in-with-google-button"></div>
    
    
    <a href="https://hackmd.io/auth/facebook" class="btn btn-lg btn-block btn-social btn-facebook">
        <i class="fa fa-facebook"></i> 透過 Facebook 登入
    </a>
    
    
    <a href="https://hackmd.io/auth/twitter" class="btn btn-lg btn-block btn-social btn-twitter">
        <i class="fa fa-twitter"></i> 透過 Twitter 登入
    </a>
    
    
    <a href="https://hackmd.io/auth/github" class="btn btn-lg btn-block btn-social btn-github">
        <i class="fa fa-github"></i> 透過 GitHub 登入
    </a>
    
    
    <a href="https://hackmd.io/auth/dropbox" class="btn btn-lg btn-block btn-social btn-dropbox">
        <i class="fa fa-dropbox"></i> 透過 Dropbox 登入
    </a>
    
    
    
      <a href="#" class="btn btn-block btn-social btn-web3 bg-gray-800 hocus:bg-[#2b2b2b] text-white hocus:text-white">
          <img src="https://hackmd.io/images/wallet.svg" style="max-height: 20px; margin-top: 8px; margin-left: 6px; border: none;">
          <span class="sign-in-wallet-text">
              錢包登入
          </span>

          <div class="inline-flex items-center justify-between w-full hidden web3-wallet-info">
              <span>
                   錢包
                   (
                    <span class="web3-wallet-address"></span>
                   )
              </span>

              <i class="fa fa-arrow-right" aria-hidden="true"></i>
          </div>
      </a>

      <small class="web3-wallet-info hidden text-left hocus:text-white underline hocus:underline block pt-2 ui-disconnect-connected-wallets text-gray-600 cursor-pointer">
          連結其他錢包
      </small>
    
</div>




    <div >
        <p>第一次使用 HackMD？ <a href="https://hackmd.io/join" class="plausible-event-name=LoginModalSignUp">註冊</a></p>
    </div>




        </div>
    </div>
</div>

    
    <script src="https://www.googletagmanager.com/gtag/js?id=G-NGVZMM6DR6"></script>
    <script nonce="25ba8fcb-0a83-438b-a899-95ce0f7fb373">
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        let userid = (document.cookie.match('(^|; )userid=([^;]*)')||0)[2];
        gtag('config', 'G-NGVZMM6DR6', {'user_id': userid});
        
    </script>


    
<script src="https://browser.sentry-cdn.com/5.15.5/bundle.min.js" crossorigin="anonymous"></script>
<script nonce="25ba8fcb-0a83-438b-a899-95ce0f7fb373">
  Sentry.init({ dsn: 'https://73410f1915d84abc8b2dd1f1aabd1c82@sentry.hackmd.dev/4', environment: 'production', integrations: function (intrus) { return intrus.filter(function (itr) { return itr.name !== 'TryCatch' }) } });
  const sentryUserId = document.cookie
    .split('; ')
    .map(cookie => cookie.split('='))
    .reduce((acc, [k, v]) => k === 'userid' ? v : acc, '');
  Sentry.setUser(sentryUserId ? { id: sentryUserId } : null);
</script>


    
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLW9Z3"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->



    <script src="https://hackmd.io/api/i18n.js"></script>
     <script src="https://assets.hackmd.io/build/font-vendor.7631cb852a460f17d568.js" defer="defer"></script><script src="https://assets.hackmd.io/build/common-vendor.3c9a3da9f8a49f6ad878.js" defer="defer"></script><script src="https://assets.hackmd.io/build/pretty-vendor.1e65e4faa04a7ebdd05b.js" defer="defer"></script><script src="https://assets.hackmd.io/build/pretty-common.fb61aa6b71cf8200ffc1.js" defer="defer"></script><script src="https://assets.hackmd.io/build/pretty.dd7a0051be56733dd648.js" defer="defer"></script>

    

</body>
</html>
